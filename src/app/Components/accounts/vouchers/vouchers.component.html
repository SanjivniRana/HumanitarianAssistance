

<div class="row">
    <div class="col-sm-12">
        <div class="main-heading clearfix">
                <h3 class="page-heading">Vouchers</h3>
                <dx-button
                class="button-info btn btn-default btn-green"
                text="Add New"
                (onClick)="showInfo()">
                </dx-button>

        </div>
   
      <dx-select-box
      [items]="statuses" 
      [value]="statuses[0]" 
      (onValueChanged)="selectStatus($event)"></dx-select-box>
      <dx-data-grid 
      id="gridContainer" 
      [dataSource]="orders">
      <dxo-filter-row 
          [visible]="showFilterRow" 
          [applyFilter]="applyFilter.value"></dxo-filter-row>
      <dxo-header-filter 
          [visible]="showHeaderFilter"></dxo-header-filter>
      <dxo-search-panel 
          [visible]="true" 
          [width]="240" 
          placeholder="Search..."></dxo-search-panel>
      <dxi-column 
          dataField="OrderNumber" 
          [width]="130" 
          caption="Voucher No">
          <dxo-header-filter              
              [groupInterval]="10000"></dxo-header-filter>
      </dxi-column>
      <dxi-column 
          dataField="Voucher Date" 
          alignment="right" 
          dataType="date">
          <!-- <dxo-header-filter 
              [dataSource]="orderHeaderFilter"></dxo-header-filter> -->
      </dxi-column>      
    <dxi-column 
        dataField="Voucher Ref No"
        alignment="right">
    </dxi-column>
    <dxi-column 
        dataField="VouchersOffice" 
        caption="Office"
        alignment="right">
    </dxi-column>
    <dxi-column 
        dataField="VouchersJournal" 
        caption="Journal"
        alignment="right">
    </dxi-column>
    <dxi-column 
        dataField="VouchersDescription"
        caption="Description"
        alignment="right">
    </dxi-column>
    <dxi-column dataField = "documentId" caption="Document" alignment="right" cellTemplate="CellTemplateDocument"></dxi-column>
    <dxi-column dataField = "editId" caption="Action" alignment="right" cellTemplate="CellTemplateOpen"></dxi-column>
    <!-- <dxi-column dataField = "deleteId" caption="Delete" alignment="right" cellTemplate="CellTemplateDelete"></dxi-column> -->
    <div *dxTemplate="let data of 'CellTemplateDocument'">         
        <a href="javascript:void()" (click)="documentAdd()">Document</a>
    </div>
    <div *dxTemplate="let data of 'CellTemplateOpen'">         
            <a href="javascript:void()" (click)="editVoucher()">Edit</a>
            <span style="color:#acacac;">&nbsp;|&nbsp;</span>   
            <a href="javascript:void()" (click)="deleteVoucher()">Delete</a>
    </div>    
  </dx-data-grid>
  
  <div class="options">
      <div class="caption">Options</div>
      <div 
          class="apply-filter option" 
          [style.display]="showFilterRow ? 'block' : 'none'">
          <span>Apply Filter</span>
          <dx-select-box #applyFilter 
              id="useFilterApplyButton" 
              [items]="applyFilterTypes" 
              [value]="applyFilterTypes[0].key" 
              valueExpr="key"
              displayExpr="name"></dx-select-box>
      </div>      
  </div>
        <div class="pull-right mt20 clearfix">
          <a href="javascript:void(0);" class="btn btn-default btn-green">Save</a>
            <a href="javascript:void(0);" class="btn btn-default btn-gray">Cancel</a>
        </div>
    </div>
</div>

<!-- Add Vouchers -->

<dx-popup
class="popup"
[width]="800"
[height]="800"
[showTitle]="true"
title="Information"
[dragEnabled]="false"
[closeOnOutsideClick]="true"
[(visible)]="popupVisible">
<div *dxTemplate="let data of 'content'">
    
        <form action="your-action" (submit)="onFormSubmit($event)">
                <dx-form id="form"      
                    [formData]="customer"      
                    [readOnly]="false"
                    [showColonAfterLabel]="true"
                    [showValidationSummary]="true"
                    validationGroup="customerData">

                    <dxi-item dataField="Currency"
                        editorType="dxSelectBox"
                        [editorOptions]="{ dataSource: countries }">
                        <dxi-validation-rule 
                            type="required"
                            message="Country is required">
                        </dxi-validation-rule>
                    </dxi-item>       
                    
                    <dxi-item dataField="Office"
                        editorType="dxSelectBox"
                        [editorOptions]="{ dataSource: countries }">
                        <dxi-validation-rule 
                            type="required"
                            message="Country is required">
                        </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item 
                        dataField="Date"
                        editorType="dxDateBox"
                        [editorOptions]="{ 
                            invalidDateMessage: 'The date must have the following format: MM/dd/yyyy' }">
                        <dxo-label
                            text="Voucher Date">
                        </dxo-label>
                        <dxi-validation-rule 
                            type="required"
                            message="Date of birth is required">
                        </dxi-validation-rule>
                        <dxi-validation-rule 
                            type="range"
                            [max]="maxDate"
                            message="You must be at least 21 years old">
                        </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item dataField="Cheque No">
                        <dxi-validation-rule 
                            type="required"
                            message="Login is required">
                        </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item dataField="Voucher Reference No">
                            <dxi-validation-rule 
                                type="required"
                                message="Login is required">
                            </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item dataField="Journal"
                        editorType="dxSelectBox"
                        [editorOptions]="{ dataSource: countries }">
                        <dxi-validation-rule 
                            type="required"
                            message="Country is required">
                        </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item dataField="Voucher Type"
                        editorType="dxSelectBox"
                        [editorOptions]="{ dataSource: countries }">
                        <dxi-validation-rule 
                            type="required"
                            message="Country is required">
                        </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item dataField="Voucher Description">
                            <dxi-validation-rule 
                                type="required"
                                message="Login is required">
                            </dxi-validation-rule>
                    </dxi-item>

                </dx-form>
                <br />
                <div class="btn-grp-wrap">
                        <dx-button
                        text="Add"
                        type="success"
                        validationGroup="customerData"
                        [useSubmitBehavior]="true">
                    </dx-button>
    
                    <dx-button
                        text="Cancel"
                        (onClick)="cancelDeleteVoucher()">
                    </dx-button>

                </div>
                
            </form>
</div>
</dx-popup>


<!-- Edit Voucher -->

<dx-popup
class="popup"
[width]="800"
[height]="800"
[showTitle]="true"
title="Edit Voucher"
[dragEnabled]="false"
[closeOnOutsideClick]="true"
[(visible)]="popupVisibleEditVoucher">
<div *dxTemplate="let data of 'content'">
    
        <form action="your-action" (submit)="onFormSubmit($event)">
                <dx-form id="form"      
                    [formData]="customer"      
                    [readOnly]="false"
                    [showColonAfterLabel]="true"
                    [showValidationSummary]="true"
                    validationGroup="customerData">

                    <dxi-item dataField="Currency"
                        editorType="dxSelectBox"
                        [editorOptions]="{ dataSource: countries }">
                        <dxi-validation-rule 
                            type="required"
                            message="Country is required">
                        </dxi-validation-rule>
                    </dxi-item>       
                    
                    <dxi-item dataField="Office"
                        editorType="dxSelectBox"
                        [editorOptions]="{ dataSource: countries }">
                        <dxi-validation-rule 
                            type="required"
                            message="Country is required">
                        </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item 
                        dataField="Date"
                        editorType="dxDateBox"
                        [editorOptions]="{ 
                            invalidDateMessage: 'The date must have the following format: MM/dd/yyyy' }">
                        <dxo-label
                            text="Voucher Date">
                        </dxo-label>
                        <dxi-validation-rule 
                            type="required"
                            message="Date of birth is required">
                        </dxi-validation-rule>
                        <dxi-validation-rule 
                            type="range"
                            [max]="maxDate"
                            message="You must be at least 21 years old">
                        </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item dataField="Cheque No">
                        <dxi-validation-rule 
                            type="required"
                            message="Login is required">
                        </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item dataField="Voucher Reference No">
                            <dxi-validation-rule 
                                type="required"
                                message="Login is required">
                            </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item dataField="Journal"
                        editorType="dxSelectBox"
                        [editorOptions]="{ dataSource: countries }">
                        <dxi-validation-rule 
                            type="required"
                            message="Country is required">
                        </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item dataField="Voucher Type"
                        editorType="dxSelectBox"
                        [editorOptions]="{ dataSource: countries }">
                        <dxi-validation-rule 
                            type="required"
                            message="Country is required">
                        </dxi-validation-rule>
                    </dxi-item>

                    <dxi-item dataField="Voucher Description">
                            <dxi-validation-rule 
                                type="required"
                                message="Login is required">
                            </dxi-validation-rule>
                    </dxi-item>

                </dx-form>
                <br />
                <div class="btn-grp-wrap">
                <dx-button
                    text="Edit"
                    type="success"
                    validationGroup="customerData"
                    [useSubmitBehavior]="true">
                </dx-button>

                <dx-button
                    text="Cancel"
                    (onClick)="cancelDeleteVoucher()">
                </dx-button>
            </div>
            </form>
</div>
</dx-popup>


<!-- Delete Voucher -->

<dx-popup
class="popup"
[width]="800"
[height]="800"
[showTitle]="true"
title="Delete Voucher"
[dragEnabled]="false"
[closeOnOutsideClick]="true"
[(visible)]="popupVisibleDeleteVoucher">
<div *dxTemplate="let data of 'content'">
    
        <form action="your-action" (submit)="onFormSubmit($event)">
                <dx-form id="form"                          
                    [readOnly]="false"
                    [showColonAfterLabel]="true"
                    [showValidationSummary]="true"
                    validationGroup="customerData">
                    <dxi-item itemType="group" >
                            <dxo-label
                                text="Are you sure to delete the voucher?">
                            </dxo-label>
                    </dxi-item>
                </dx-form>
                <br />
                <div class="btn-grp-wrap">
                <dx-button
                    text="Delete"
                    type="success"
                    validationGroup="customerData"
                    [useSubmitBehavior]="true">
                </dx-button>
                <dx-button
                    text="Cancel"                    
                    (onClick)="cancelDeleteVoucher()">
                </dx-button>
            </div>
        </form>
</div>
</dx-popup>