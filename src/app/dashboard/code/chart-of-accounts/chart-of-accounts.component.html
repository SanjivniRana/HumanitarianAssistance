<div class="row">
  <div class="col-sm-12">
    <div class="main-heading clearfix">
      <h3 class="page-heading">Manage Chart of Accounts</h3>
    </div>
  </div>
  <div class="col-sm-12">

    <!--  Chart of Accounts Filters -->
    <div>
      <dx-data-grid id="gridContainer" [dataSource]="dataSource" [columnHidingEnabled]="true" [masterDetail]="{ enabled: true, template: 'detail' }">
        <!-- <dxo-export [enabled]="true" fileName="Orders"></dxo-export> -->
        <dxo-editing [allowAdding]="false" [allowUpdating]="false" mode="batch"></dxo-editing>
        <dxo-grouping [contextMenuEnabled]="true" expandMode="rowClick"></dxo-grouping>
        <dxo-group-panel [visible]="false" emptyPanelText="Use the context menu of header columns to group data"></dxo-group-panel>
        <dxo-header-filter [visible]="true">
        </dxo-header-filter>
        <dxo-filter-row [visible]="showFilterRow">
        </dxo-filter-row>
        <dxo-selection mode="multiple">
        </dxo-selection>

        <dxi-column dataField="AccountLevel"></dxi-column>

        <dxo-paging [pageSize]="10"></dxo-paging>
        <!-- <dxo-pager
          [allowedPageSizes]="[5, 8, 15, 30]"
          [showInfo]="true"
          [showNavigationButtons]="true"
          [showPageSizeSelector]="true"
          [visible]="true">
      </dxo-pager>            -->
        <dxo-column-chooser [enabled]="true"></dxo-column-chooser>
        <div *dxTemplate="let level of 'detail'">
          <div class="internal-grid-container">
            <!-- <div>{{employee.data.FirstName + " " + employee.data.LastName + "'s Tasks:"}}</div> -->

            <dx-data-grid class="internal-grid" [dataSource]="level.data.ChartOfAccountLevelDetails" [showBorders]="true" [columnAutoWidth]="true">
              <!-- <dxo-export [enabled]="true" fileName="Orders"></dxo-export> -->
              <dxo-editing [allowAdding]="false" [allowUpdating]="false" mode="batch"></dxo-editing>
              <dxo-grouping [contextMenuEnabled]="true" expandMode="rowClick"></dxo-grouping>
              <dxo-group-panel [visible]="false" emptyPanelText="Use the context menu of header columns to group data"></dxo-group-panel>
              <dxo-column-chooser [enabled]="true"></dxo-column-chooser>
              <dxo-selection mode="multiple">
              </dxo-selection>
              <dxo-header-filter [visible]="true"></dxo-header-filter>
              <dxo-filter-row [visible]="showFilterRow">
              </dxo-filter-row>

              <!-- editing -->
              <dxo-editing mode="popup" [allowUpdating]="true" [allowAdding]="true" [form]="{
                    items: ['AccountCode','AccountName','AccountType','MIS Code','Dep Method','Rate(%)']
                }">
                <dxo-popup title="Chart of Account" [showTitle]="true" [width]="700" [height]="345" [position]="{ my: 'center', at: 'center', of: window }">
                </dxo-popup>

              </dxo-editing>
              <!-- editing -->

              <dxi-column dataField="AccountCode" [width]="150"></dxi-column>
              <dxi-column dataField="AccountName"></dxi-column>
              <!-- <dxi-column dataField="AccountType"></dxi-column> -->
              <dxi-column dataField="AccountType" caption="Account Type" [width]="125">
                <dxo-lookup [dataSource]="accountType" displayExpr="AccountTypeName" valueExpr="ID">
                </dxo-lookup>
              </dxi-column>

              <dxo-summary>
                <dxi-total-item column="Debit" summaryType="sum">
                </dxi-total-item>
                <dxi-total-item column="Credit" summaryType="sum">
                </dxi-total-item>
              </dxo-summary>

            </dx-data-grid>
          </div>
        </div>
      </dx-data-grid>

    </div>
  </div>
</div>

<br>
<br>
<br>